{"version":3,"sources":["webpack:///./src/index.css?de60","index.css","webpack:///./src/App.css?0fbf","App.css","webpack:///./src/views/RuleEdit/index.css?996a","views/RuleEdit/index.css","webpack:///./src/components/Panel/index.less?9489","components/Panel/index.less","components/Panel/index.js","utils/show-hint.js","utils/js-hint.js","components/SuperSelect/index.js","utils/httpUtil.js","views/RuleEdit/index.js","utils/index.js","utils/reactHistory.js","views/JsEdit/index.js","App.js","serviceWorker.js","index.js"],"names":["content","module","i","options","transform","undefined","locals","exports","___CSS_LOADER_API_IMPORT___","push","Panel","props","panelBody","id","title","children","titleIcon","subTitle","titleInfo","titleStyle","subPanel","style","titleAffix","useState","collapsed","setCollapsed","useEffect","defaultCollapsed","titleElement","className","type","marginLeft","collapsible","onClick","$","toggle","ref","Completion","cm","this","widget","debounce","tick","startPos","getCursor","startLen","getLine","line","length","getSelection","self","on","activityFunc","cursorActivity","CodeMirror","getHints","showHint","async","newOpts","hint","prop","pos","editor","hintOptions","out","defaultOptions","resolve","parseOptions","selections","listSelections","somethingSelected","supportsSelection","head","anchor","state","completionActive","close","completion","update","requestAnimationFrame","window","fn","setTimeout","cancelAnimationFrame","clearTimeout","getText","text","getHintElement","hintsElement","el","nodeName","toUpperCase","parentNode","Widget","data","picked","ownerDocument","getInputField","parentWindow","defaultView","hints","createElement","theme","selectedHint","completions","list","elt","appendChild","cur","render","createTextNode","displayText","hintId","container","body","cursorCoords","alignWithWord","from","left","top","bottom","below","offsetLeft","offsetTop","offsetParent","indexOf","getComputedStyle","position","offsetParentPosition","getBoundingClientRect","bodyPosition","scrollLeft","scrollTop","winW","innerWidth","Math","max","offsetWidth","documentElement","winH","innerHeight","offsetHeight","box","overlapY","scrolls","scrollHeight","clientHeight","startScroll","getScrollInfo","height","cursor","ch","closingOnBlur","overlapX","right","width","node","firstChild","nextSibling","paddingRight","display","nativeBarWidth","addKeyMap","keyMap","handle","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","test","navigator","platform","custom","customKeys","ourMap","addBinding","key","val","bound","hasOwnProperty","extra","extraKeys","buildKeyMap","n","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onBlur","onFocus","onScroll","curScroll","getWrapperElement","newTop","point","pageYOffset","e","t","target","srcElement","completeOnSingleClick","focus","scrollToActive","childNodes","fetchHints","callback","result","then","prototype","active","off","operation","replaceRange","to","scrollIntoView","identStart","closeCharacters","charAt","disable","first","myTick","finishUpdate","completeSingle","removeChild","removeKeyMap","replace","margin","scrollMargin","node1","node2","min","firstNode","floor","words","helpers","getHelpers","resolved","app","applicableHelpers","run","getHelper","fromList","anyword","term","token","getTokenAt","start","string","substr","found","word","slice","autocomplete","auto","Pos","forEach","arr","f","scriptHint","keywords","getToken","innerMode","getMode","mode","helperType","end","tprop","context","global","globalScope","maybeAdd","str","lastIndexOf","item","Array","arrayContains","gatherCompletions","obj","stringProps","arrayProps","Function","funcProps","Object","getOwnPropertyNames","getPrototypeOf","o","name","forAllProps","base","pop","additionalContext","useGlobalScope","jQuery","_","v","localVars","next","c","prev","vars","globalVars","getCompletions","console","info","getCoffeeScriptToken","javascriptKeywords","coffeescriptKeywords","split","SuperSelect","toManyChildrenNotice","maxChildrenLength","debounceTime","rest","overFlow","filterResult","setFilterResult","showChildren","setShowChildren","childrenMap","useRef","Map","toManyNotice","Option","value","disabled","searchNow","childs","React","Children","toArray","optionFilterProp","searchResults","maxChildLength","child","filterProp","JSON","stringify","onSearch","useCallback","method","wait","immediate","timeout","debounced","args","callNow","apply","cancel","a","searchResultValues","filter","map","s","current","get","set","filterOption","RuleEdit","location","editorRef","sdEditorRef","dEditorRef","sEditorRef","fEditorRef","author","version","group","titleColor","url","col_type","class_name","class_url","area_name","area_url","year_name","year_url","sort_name","sort_url","find_rule","search_url","searchFind","detail_col_type","detail_find_rule","sdetail_col_type","sdetail_find_rule","ua","preRule","rule","setRule","ruleImportModalVisible","setRuleImportModalVisible","ruleImport","setRuleImport","ruleShareModalVisible","setRuleShareModalVisible","ruleShare","setRuleShare","autoComplete","setAutoComplete","selectRule","setSelectRule","allRules","setAllRules","autoCompleteRef","onChange","ruleNew","rule2json","ruleJSON","parse","parseInt","refresh","onCursorActivity","fetchAndBindRule","ruleTitle","fetch","res","catch","err","error","json","edit","notification","message","description","localStorage","getItem","params","paramsString","search","substring","URLSearchParams","toSearchParams","codeMirrorOpt","lineNumbers","lineWrapping","smartIndent","matchBrackets","autoCloseBrackets","indentWithTabs","overflow","marginRight","marginBottom","headers","Headers","log","isSuccess","success","errorMsg","r","showSearch","dropdownMatchSelectWidth","onSelect","padding","TextArea","autoSize","minRows","maxRows","placeholder","checked","setItem","onBeforeChange","editorDidMount","okText","cancelText","visible","onCancel","onOk","rus","j","join","rows","reactHistory","createHashHistory","JsEdit","href","Content","Layout","Footer","Sider","SideMenu","currentKey","setCurrentKey","goPage","pathname","urls","selectedKeys","Item","App","history","background","minHeight","path","component","textAlign","Boolean","hostname","match","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cd847440.chunk.js","sourcesContent":["\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body {\\n  margin: 0;\\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\ncode {\\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./App.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./App.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./App.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".logo {\\n  height: 32px;\\n  background: rgba(255, 255, 255, 0.2);\\n  margin: 16px;\\n}\\n.layout-logo {\\n  width: 150px;\\n  height: 32px;\\n  margin: 16px 24px 16px 24px;\\n}\\n.layout-logo > img {\\n  width: 36px;\\n  height: 36px;\\n}\\n.layout-logo > div {\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n.layout-logo .logo-title-zh {\\n  margin-left: 10px;\\n  width: 75px;\\n  height: 25px;\\n  font-weight: bold;\\n  color: #333333;\\n  font-size: 17px;\\n  text-align: center;\\n  letter-spacing: 1px;\\n}\\n.layout-logo .logo-title-en {\\n  margin-left: 10px;\\n  width: 75px;\\n  font-weight: 400;\\n  font-family: 'Raleway-Regular', 'Raleway', sans-serif;\\n  font-size: 12px;\\n  letter-spacing: 2.6px;\\n  color: #333333;\\n  text-align: center;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mail-input {\\n  margin: 2px 0 2px 2px;\\n  width: -moz-calc(-22%);\\n  width: -webkit-calc(-22%);\\n  width: calc(100% - 122px);\\n}\\n.super-select {\\n  min-width: 200px;\\n}\\n.mail-btn {\\n  width: 100px;\\n  display: inline;\\n}\\n.mail-post-btn {\\n  height: 105px;\\n  margin: 2px 2px 4px 0;\\n}\\n.mail-post-btn:active,\\n.mail-post-btn:focus {\\n  margin: 2px 2px 4px 0;\\n}\\n.mail-edit-header {\\n  display: inline;\\n  font-weight: bold;\\n  margin-bottom: 20px;\\n}\\n.mail-edit-btn1,\\n.mail-edit-btn1:active,\\n.mail-edit-btn1:focus {\\n  padding: 0 30px;\\n  margin-left: 15px;\\n}\\n.mail-edit-btn,\\n.mail-edit-btn:active,\\n.mail-edit-btn:focus {\\n  padding: 0 30px;\\n  margin-left: 40px;\\n}\\n.head-title {\\n  width: 120px;\\n  display: inline-block;\\n  text-align-last: justify;\\n  text-align: justify;\\n  text-justify: distribute-all-lines;\\n}\\n.mail-send-head-title {\\n  width: 58px;\\n  display: inline-block;\\n  text-align-last: justify;\\n  text-align: justify;\\n  text-justify: distribute-all-lines;\\n}\\n.mail-edit-head-bg {\\n  margin-bottom: 10px;\\n}\\n.mail-edit-generate-bg {\\n  margin-bottom: 20px;\\n  margin-top: 15px;\\n}\\n.mail-edit-header-bg {\\n  margin-bottom: 20px;\\n}\\n.mail-alert {\\n  margin-top: 10px;\\n  padding: 4px 10px !important;\\n}\\n.mail-send-input {\\n  margin: 2px 0 2px 2px;\\n  width: -moz-calc(-22%);\\n  width: -webkit-calc(-22%);\\n  width: calc(100% - 122px);\\n}\\n.mail-send-project-roles {\\n  margin-left: 60px;\\n}\\n.code-mirror-bg {\\n  display: inline;\\n}\\n.code-mirror {\\n  padding: 5px;\\n  line-height: 150%;\\n  margin-top: 5px;\\n  border: 1px solid #d9d9d9;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n}\\n.code-mirror:hover,\\n.code-mirror:focus-within {\\n  border-color: #49a9ee;\\n}\\n.CodeMirror {\\n  max-height: 300px !important;\\n  height: auto !important;\\n  min-height: 60px !important;\\n}\\n.CodeMirror-scroll {\\n  max-height: 300px !important;\\n  height: auto !important;\\n  min-height: 60px !important;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".phoenix-panel {\\n  margin-top: 15px;\\n}\\n.phoenix-panel:first-child {\\n  margin-top: 0;\\n}\\n.phoenix-panel.sub-panel {\\n  margin-top: 0;\\n  border: 1px solid #e8e8e8;\\n  padding: 5px 15px 15px;\\n}\\n.phoenix-panel.sub-panel .panel-body {\\n  padding-top: 10px;\\n}\\n.phoenix-panel.sub-panel .panel-title {\\n  padding-left: 0;\\n  border-left: none;\\n  font-size: 13px;\\n  line-height: 26px;\\n}\\n.phoenix-panel.sub-panel .panel-title > h1 {\\n  line-height: 26px;\\n  font-size: 13px;\\n  display: inline;\\n}\\n.phoenix-panel .panel-title {\\n  padding-left: 10px;\\n  border-left: 5px solid rgba(22, 155, 213, 0.3);\\n  line-height: 30px;\\n  font-size: 15px;\\n}\\n.phoenix-panel .panel-title .title-icon {\\n  margin-right: 8px;\\n}\\n.phoenix-panel .panel-title .collapse {\\n  margin-left: 15px;\\n  color: #bfbfbf;\\n  font-size: 13px;\\n}\\n.phoenix-panel .panel-title .collapse .text-grey {\\n  color: #a7a7a7;\\n}\\n.phoenix-panel .panel-title > h1 {\\n  line-height: 30px;\\n  font-size: 15px;\\n  font-weight: normal;\\n  margin: 0;\\n  padding: 0;\\n  display: inline;\\n}\\n.phoenix-panel .panel-title .sub-title {\\n  line-height: 21px;\\n  font-size: 12px;\\n  margin-top: 7px;\\n  margin-left: 15px;\\n}\\n.phoenix-panel .panel-title .sub-title .ant-checkbox-wrapper {\\n  font-size: 12px;\\n}\\n.phoenix-panel .panel-title .sub-title .ant-checkbox {\\n  font-size: 12px;\\n}\\n.phoenix-panel .panel-title .sub-title a.title-btn {\\n  transition-delay: 0s;\\n  transition-duration: 300ms;\\n  transition-property: background-color;\\n  display: inline;\\n  margin-right: 7px;\\n  padding: 0 5px;\\n  background-color: #dff3fc;\\n  color: #169BD5;\\n}\\n.phoenix-panel .panel-title .sub-title a.title-btn i {\\n  margin-right: 3px;\\n}\\n.phoenix-panel .panel-title .sub-title a.title-btn:hover {\\n  color: #169BD5;\\n  background-color: #bae5f8;\\n}\\n.phoenix-panel .panel-body {\\n  padding-top: 15px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React, { useState, useEffect } from 'react';\r\nimport { Icon, Tooltip, Affix } from 'antd';\r\nimport './index.less';\r\nimport $ from 'jquery';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Panel(props) {\r\n    const {\r\n        id, title, children, titleIcon, subTitle, titleInfo, titleStyle, subPanel, style, titleAffix\r\n    } = props;\r\n\r\n    let panelBody;\r\n\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setCollapsed(props.defaultCollapsed);\r\n    }, []);\r\n\r\n    const toggle = () => {\r\n        setCollapsed(!collapsed);\r\n        $(panelBody).toggle(collapsed);\r\n    };\r\n\r\n    const titleElement = title ? (\r\n        <div className={'panel-title'} style={titleStyle || {}}>\r\n            {titleIcon && (\r\n                <Icon type={titleIcon} className={'title-icon'} />\r\n            )}\r\n            <h1>{title}</h1>\r\n            {titleInfo && (\r\n                <Tooltip title={titleInfo}>\r\n                    <span style={{ marginLeft: '5px' }}>\r\n                        <Icon type={'question-circle-o'} className={'text-primary'} />\r\n                    </span>\r\n                </Tooltip>\r\n            )}\r\n            {props.collapsible !== false && (\r\n                <span className={'collapse'}>\r\n                    <a onClick={toggle}>\r\n                        <Icon className={'text-grey'}\r\n                            type={collapsed ? 'up' : 'down'} />\r\n                    </a>\r\n                </span>\r\n            )}\r\n            {(subTitle && !collapsed) && (\r\n                <span className={'sub-title'}>\r\n                    {subTitle}\r\n                </span>\r\n            )}\r\n        </div>\r\n    ) : null;\r\n\r\n    return (\r\n        <div id={id} className={'phoenix-panel' + (subPanel ? ' sub-panel' : '')} style={style}>\r\n            {!!titleElement && titleAffix ? (\r\n                <Affix {...titleAffix}>\r\n                    <div className='affix-bg'>\r\n                        {titleElement}\r\n                    </div>\r\n                </Affix>\r\n            ) : titleElement}\r\n            <div ref={ref => panelBody = ref} className={'panel-body'}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nPanel.propTypes = {\r\n    id: PropTypes.string,\r\n    title: PropTypes.any,\r\n    titleIcon: PropTypes.string,\r\n    subTitle: PropTypes.any,\r\n    titleInfo: PropTypes.any,\r\n    titleStyle: PropTypes.object,\r\n    subPanel: PropTypes.bool,\r\n    style: PropTypes.object,\r\n    titleAffix: PropTypes.object,\r\n};\r\nexport default Panel;\r\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n\"use strict\";\n\nimport * as CodeMirror from \"codemirror\";\n\nvar HINT_ELEMENT_CLASS = \"CodeMirror-hint\";\nvar ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n// This is the old interface, kept around for now to stay\n// backwards-compatible.\nCodeMirror.showHint = function (cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n};\n\nCodeMirror.defineExtension(\"showHint\", function (options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n        if (!options.hint.supportsSelection) return;\n        // Don't try with cross-line selections\n        for (var i = 0; i < selections.length; i++)\n            if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n});\n\nCodeMirror.defineExtension(\"closeHint\", function () {\n    if (this.state.completionActive) this.state.completionActive.close()\n})\n\nfunction Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function () {\n        self.cursorActivity();\n    });\n}\n\nvar requestAnimationFrame = window.requestAnimationFrame || function (fn) {\n    return setTimeout(fn, 1000 / 60);\n};\nvar cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\nCompletion.prototype = {\n    close: function () {\n        if (!this.active()) return;\n        this.cm.state.completionActive = null;\n        this.tick = null;\n        this.cm.off(\"cursorActivity\", this.activityFunc);\n\n        if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n        if (this.widget) this.widget.close();\n        CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function () {\n        return this.cm.state.completionActive == this;\n    },\n\n    pick: function (data, i) {\n        var completion = data.list[i], self = this;\n        this.cm.operation(function () {\n            if(completion){\n                if (completion.hint)\n                    completion.hint(self.cm, data, completion);\n                else\n                    self.cm.replaceRange(getText(completion), completion.from || data.from,\n                        completion.to || data.to, \"complete\");\n                CodeMirror.signal(data, \"pick\", completion);\n            }\n            self.cm.scrollIntoView();\n        })\n        this.close();\n    },\n\n    cursorActivity: function () {\n        if (this.debounce) {\n            cancelAnimationFrame(this.debounce);\n            this.debounce = 0;\n        }\n\n        var identStart = this.startPos;\n        if (this.data) {\n            identStart = this.data.from;\n        }\n\n        var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n        if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n            pos.ch < identStart.ch || this.cm.somethingSelected() ||\n            (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n            this.close();\n        } else {\n            var self = this;\n            this.debounce = requestAnimationFrame(function () {\n                self.update();\n            });\n            if (this.widget) this.widget.disable();\n        }\n    },\n\n    update: function (first) {\n        if (this.tick == null) return\n        var self = this, myTick = ++this.tick\n        fetchHints(this.options.hint, this.cm, this.options, function (data) {\n            if (self.tick == myTick) self.finishUpdate(data, first)\n        })\n    },\n\n    finishUpdate: function (data, first) {\n        if (this.data) CodeMirror.signal(this.data, \"update\");\n\n        var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n        if (this.widget) this.widget.close();\n\n        this.data = data;\n\n        if (data && data.list.length) {\n            // if (picked && data.list.length == 1) {\n            //     this.pick(data, 0);\n            // } else {\n                this.widget = new Widget(this, data);\n                CodeMirror.signal(data, \"shown\");\n            // }\n        }\n    }\n};\n\nfunction parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n        if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n        if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n}\n\nfunction getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n}\n\nfunction buildKeyMap(completion, handle) {\n    var baseMap = {\n        Up: function () {\n            handle.moveFocus(-1);\n        },\n        Down: function () {\n            handle.moveFocus(1);\n        },\n        PageUp: function () {\n            handle.moveFocus(-handle.menuSize() + 1, true);\n        },\n        PageDown: function () {\n            handle.moveFocus(handle.menuSize() - 1, true);\n        },\n        Home: function () {\n            handle.setFocus(0);\n        },\n        End: function () {\n            handle.setFocus(handle.length - 1);\n        },\n        Enter: handle.pick,\n        Tab: handle.pick,\n        Esc: handle.close\n    };\n\n    var mac = /Mac/.test(navigator.platform);\n\n    if (mac) {\n        baseMap[\"Ctrl-P\"] = function () {\n            handle.moveFocus(-1);\n        };\n        baseMap[\"Ctrl-N\"] = function () {\n            handle.moveFocus(1);\n        };\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n\n    function addBinding(key, val) {\n        var bound;\n        if (typeof val != \"string\")\n            bound = function (cm) {\n                return val(cm, handle);\n            };\n        // This mechanism is deprecated\n        else if (baseMap.hasOwnProperty(val))\n            bound = baseMap[val];\n        else\n            bound = val;\n        ourMap[key] = bound;\n    }\n\n    if (custom)\n        for (var key in custom) if (custom.hasOwnProperty(key))\n            addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n        for (var key in extra) if (extra.hasOwnProperty(key))\n            addBinding(key, extra[key]);\n    return ourMap;\n}\n\nfunction getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n        if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n        el = el.parentNode;\n    }\n}\n\nfunction Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n        var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n        var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n        if (cur.className != null) className = cur.className + \" \" + className;\n        elt.className = className;\n        if (cur.render) cur.render(elt, data, cur);\n        else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n        elt.hintId = i;\n    }\n\n    var container = completion.options.container || ownerDocument.body;\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    var offsetLeft = 0, offsetTop = 0;\n    if (container !== ownerDocument.body) {\n        // We offset the cursor position because left and top are relative to the offsetParent's top left corner.\n        var isContainerPositioned = ['absolute', 'relative', 'fixed'].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n        var offsetParent = isContainerPositioned ? container : container.offsetParent;\n        var offsetParentPosition = offsetParent.getBoundingClientRect();\n        var bodyPosition = ownerDocument.body.getBoundingClientRect();\n        offsetLeft = (offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft);\n        offsetTop = (offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop);\n    }\n    hints.style.left = (left - offsetLeft) + \"px\";\n    hints.style.top = (top - offsetTop) + \"px\";\n\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    container.appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n        var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n        if (curTop - height > 0) { // Fits above cursor\n            hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n            below = false;\n        } else if (height > winH) {\n            hints.style.height = (winH - 5) + \"px\";\n            hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n            var cursor = cm.getCursor();\n            if (data.from.ch != cursor.ch) {\n                pos = cm.cursorCoords(cursor);\n                hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n                box = hints.getBoundingClientRect();\n            }\n        }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n        if (box.right - box.left > winW) {\n            hints.style.width = (winW - 5) + \"px\";\n            overlapX -= (box.right - box.left) - winW;\n        }\n        hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n        node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n        moveFocus: function (n, avoidWrap) {\n            widget.changeActive(widget.selectedHint + n, avoidWrap);\n        },\n        setFocus: function (n) {\n            widget.changeActive(n);\n        },\n        menuSize: function () {\n            return widget.screenAmount();\n        },\n        length: completions.length,\n        close: function () {\n            completion.close();\n        },\n        pick: function () {\n            widget.pick();\n        },\n        data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n        var closingOnBlur;\n        cm.on(\"blur\", this.onBlur = function () {\n            closingOnBlur = setTimeout(function () {\n                completion.close();\n            }, 100);\n        });\n        cm.on(\"focus\", this.onFocus = function () {\n            clearTimeout(closingOnBlur);\n        });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function () {\n        var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n        var newTop = top + startScroll.top - curScroll.top;\n        var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n        if (!below) point += hints.offsetHeight;\n        if (point <= editor.top || point >= editor.bottom) return completion.close();\n        hints.style.top = newTop + \"px\";\n        hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function (e) {\n        var t = getHintElement(hints, e.target || e.srcElement);\n        if (t && t.hintId != null) {\n            widget.changeActive(t.hintId);\n            widget.pick();\n        }\n    });\n\n    CodeMirror.on(hints, \"click\", function (e) {\n        var t = getHintElement(hints, e.target || e.srcElement);\n        if (t && t.hintId != null) {\n            widget.changeActive(t.hintId);\n            if (completion.options.completeOnSingleClick) widget.pick();\n        }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function () {\n        setTimeout(function () {\n            cm.focus();\n        }, 20);\n    });\n    this.scrollToActive()\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n}\n\nWidget.prototype = {\n    close: function () {\n        if (this.completion.widget != this) return;\n        this.completion.widget = null;\n        this.hints.parentNode.removeChild(this.hints);\n        this.completion.cm.removeKeyMap(this.keyMap);\n\n        var cm = this.completion.cm;\n        if (this.completion.options.closeOnUnfocus) {\n            cm.off(\"blur\", this.onBlur);\n            cm.off(\"focus\", this.onFocus);\n        }\n        cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function () {\n        this.completion.cm.removeKeyMap(this.keyMap);\n        var widget = this;\n        this.keyMap = {\n            Enter: function () {\n                widget.picked = true;\n            }\n        };\n        this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function () {\n        this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function (i, avoidWrap) {\n        if (i >= this.data.list.length)\n            i = avoidWrap ? this.data.list.length - 1 : 0;\n        else if (i < 0)\n            i = avoidWrap ? 0 : this.data.list.length - 1;\n        if (this.selectedHint == i) return;\n        var node = this.hints.childNodes[this.selectedHint];\n        if (node) node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n        node = this.hints.childNodes[this.selectedHint = i];\n        node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n        this.scrollToActive()\n        CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    scrollToActive: function () {\n        if(this.selectedHint < 0){\n            return\n        }\n        var margin = this.completion.options.scrollMargin || 0;\n        var node1 = this.hints.childNodes[Math.max(0, this.selectedHint - margin)];\n        var node2 = this.hints.childNodes[Math.min(this.data.list.length - 1, this.selectedHint + margin)];\n        var firstNode = this.hints.firstChild;\n        if (node1.offsetTop < this.hints.scrollTop)\n            this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n        else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n            this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n    },\n\n    screenAmount: function () {\n        return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n};\n\nfunction applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n        if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n}\n\nfunction fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n        hint(cm, callback, options)\n    } else {\n        var result = hint(cm, options)\n        if (result && result.then) result.then(callback)\n        else callback(result)\n    }\n}\n\nfunction resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n        var resolved = function (cm, callback, options) {\n            var app = applicableHelpers(cm, helpers);\n\n            function run(i) {\n                if (i == app.length) return callback(null)\n                fetchHints(app[i], cm, options, function (result) {\n                    if (result && result.list.length > 0) callback(result)\n                    else run(i + 1)\n                })\n            }\n\n            run(0)\n        }\n        resolved.async = true\n        resolved.supportsSelection = true\n        return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n        return function (cm) {\n            return CodeMirror.hint.fromList(cm, {words: words})\n        }\n    } else if (CodeMirror.hint.anyword) {\n        return function (cm, options) {\n            return CodeMirror.hint.anyword(cm, options)\n        }\n    } else {\n        return function () {\n        }\n    }\n}\n\nCodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n});\n\nCodeMirror.registerHelper(\"hint\", \"fromList\", function (cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n        term = token.string.substr(0, cur.ch - token.start)\n    } else {\n        term = \"\"\n        from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n        var word = options.words[i];\n        if (word.slice(0, term.length) == term)\n            found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n});\n\nCodeMirror.commands.autocomplete = CodeMirror.showHint;\n\nvar defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n};\n\nCodeMirror.defineOption(\"hintOptions\", null);\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: https://codemirror.net/LICENSE\r\n\r\nimport * as CodeMirror from \"codemirror\";\r\n\r\nvar Pos = CodeMirror.Pos;\r\n\r\nfunction forEach(arr, f) {\r\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\r\n}\r\n\r\nfunction arrayContains(arr, item) {\r\n    if (!Array.prototype.indexOf) {\r\n        var i = arr.length;\r\n        while (i--) {\r\n            if (arr[i] === item) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    return arr.indexOf(item) != -1;\r\n}\r\n\r\nfunction scriptHint(editor, keywords, getToken, options) {\r\n    // Find the token at the cursor\r\n    var cur = editor.getCursor(), token = getToken(editor, cur);\r\n    if (/\\b(?:string|comment)\\b/.test(token.type)) return;\r\n    var innerMode = CodeMirror.innerMode(editor.getMode(), token.state);\r\n    if (innerMode.mode.helperType === \"json\") return;\r\n    token.state = innerMode.state;\r\n\r\n    // If it's not a 'word-style' token, ignore the token.\r\n    if (!/^[\\w$_]*$/.test(token.string)) {\r\n        token = {\r\n            start: cur.ch, end: cur.ch, string: \"\", state: token.state,\r\n            type: token.string == \".\" ? \"property\" : null\r\n        };\r\n    } else if (token.end > cur.ch) {\r\n        token.end = cur.ch;\r\n        token.string = token.string.slice(0, cur.ch - token.start);\r\n    }\r\n\r\n    var tprop = token;\r\n    // If it is a property, find out what it is a property of.\r\n    while (tprop.type == \"property\") {\r\n        tprop = getToken(editor, Pos(cur.line, tprop.start));\r\n        if (tprop.string != \".\") return;\r\n        tprop = getToken(editor, Pos(cur.line, tprop.start));\r\n        if (!context) var context = [];\r\n        context.push(tprop);\r\n    }\r\n    const list = token.string == null || token.string === \"\" ? [] : getCompletions(token, context, keywords, options);\r\n    console.info(\"scriptHint\", token, list);\r\n    return {\r\n        list: list,\r\n        from: Pos(cur.line, token.start),\r\n        to: Pos(cur.line, token.end)\r\n    };\r\n}\r\n\r\nfunction javascriptHint(editor, options) {\r\n    return scriptHint(editor, javascriptKeywords,\r\n        function (e, cur) {\r\n            return e.getTokenAt(cur);\r\n        },\r\n        options);\r\n};\r\nCodeMirror.registerHelper(\"hint\", \"javascript\", javascriptHint);\r\n\r\nfunction getCoffeeScriptToken(editor, cur) {\r\n    // This getToken, it is for coffeescript, imitates the behavior of\r\n    // getTokenAt method in javascript.js, that is, returning \"property\"\r\n    // type and treat \".\" as indepenent token.\r\n    var token = editor.getTokenAt(cur);\r\n    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {\r\n        token.end = token.start;\r\n        token.string = '.';\r\n        token.type = \"property\";\r\n    }\r\n    else if (/^\\.[\\w$_]*$/.test(token.string)) {\r\n        token.type = \"property\";\r\n        token.start++;\r\n        token.string = token.string.replace(/\\./, '');\r\n    }\r\n    return token;\r\n}\r\n\r\nfunction coffeescriptHint(editor, options) {\r\n    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);\r\n}\r\n\r\nCodeMirror.registerHelper(\"hint\", \"coffeescript\", coffeescriptHint);\r\n\r\nvar stringProps = (\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight \" +\r\n    \"toUpperCase toLowerCase split concat match replace search\").split(\" \");\r\nvar arrayProps = (\"length concat join splice push pop shift unshift slice reverse sort indexOf \" +\r\n    \"lastIndexOf every some filter forEach map reduce reduceRight \").split(\" \");\r\nvar funcProps = \"prototype apply call bind\".split(\" \");\r\nvar javascriptKeywords = (\"Html Text getResCode fetch parseDom parseDomForHtml parseDomForArray MY_URL MY_RULE setHomeResult setSearchResult\" +\r\n    \" @rule= @lazyRule= JSON parse stringify \" +\r\n    \"break case catch class const continue debugger default delete do else export extends false finally for function \" +\r\n    \"if in import instanceof new null return super switch this throw true try typeof var void while with yield\").split(\" \");\r\nvar coffeescriptKeywords = (\"and break catch class continue delete do else extends false finally for \" +\r\n    \"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\").split(\" \");\r\n\r\nfunction forAllProps(obj, callback) {\r\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\r\n        for (var name in obj) callback(name)\r\n    } else {\r\n        for (var o = obj; o; o = Object.getPrototypeOf(o))\r\n            Object.getOwnPropertyNames(o).forEach(callback)\r\n    }\r\n}\r\n\r\nfunction getCompletions(token, context, keywords, options) {\r\n    var found = [], start = token.string, global = options && options.globalScope || window;\r\n\r\n    function maybeAdd(str) {\r\n        if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);\r\n    }\r\n\r\n    function gatherCompletions(obj) {\r\n        if (typeof obj == \"string\") forEach(stringProps, maybeAdd);\r\n        else if (obj instanceof Array) forEach(arrayProps, maybeAdd);\r\n        else if (obj instanceof Function) forEach(funcProps, maybeAdd);\r\n        forAllProps(obj, maybeAdd)\r\n    }\r\n\r\n    if (context && context.length) {\r\n        // If this is a property, see if it belongs to some object we can\r\n        // find in the current environment.\r\n        var obj = context.pop(), base;\r\n        if (obj.type && obj.type.indexOf(\"variable\") === 0) {\r\n            if (options && options.additionalContext)\r\n                base = options.additionalContext[obj.string];\r\n            if (!options || options.useGlobalScope !== false)\r\n                base = base || global[obj.string];\r\n        } else if (obj.type == \"string\") {\r\n            base = \"\";\r\n        } else if (obj.type == \"atom\") {\r\n            base = 1;\r\n        } else if (obj.type == \"function\") {\r\n            if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&\r\n                (typeof global.jQuery == 'function'))\r\n                base = global.jQuery();\r\n            else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))\r\n                base = global._();\r\n        }\r\n        while (base != null && context.length)\r\n            base = base[context.pop().string];\r\n        if (base != null) gatherCompletions(base);\r\n    } else {\r\n        // If not, just look in the global object, any local scope, and optional additional-context\r\n        // (reading into JS mode internals to get at the local and global variables)\r\n        for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);\r\n        for (var c = token.state.context; c; c = c.prev)\r\n            for (var v = c.vars; v; v = v.next) maybeAdd(v.name)\r\n        for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);\r\n        if (options && options.additionalContext != null)\r\n            for (var key in options.additionalContext)\r\n                maybeAdd(key);\r\n        if (!options || options.useGlobalScope !== false)\r\n            gatherCompletions(global);\r\n        forEach(keywords, maybeAdd);\r\n    }\r\n    return found;\r\n}\r\n","import React, {useCallback, useEffect, useRef, useState} from \"react\";\r\nimport {Select} from \"antd\";\r\nimport {debounce} from \"../../utils/httpUtil\";\r\n\r\n/**\r\n * 支持大数据量的select包装\r\n * @param props\r\n *      debounceTime：防抖动超时时间，默认300；\r\n *      toManyChildrenNotice：太多可选值的提示，reactNode类型，可使用默认的提示；\r\n *      maxChildrenLength：最多显示子组件数量\r\n *      selected：选中的子组件，默认选中过的都会放到可选值里面，如果有别的组件来控制当前组件的可选值，可以接管该值（必须同时接管setSelected），实现手动清除该变量，默认情况下不需要手动接管；\r\n *      其余属性和antd的select完全一样\r\n *\r\n * @returns {*}\r\n * @constructor\r\n */\r\nexport function SuperSelect(props) {\r\n\r\n    const {children, toManyChildrenNotice, maxChildrenLength, debounceTime, ...rest} = props;\r\n\r\n    const [filterResult, setFilterResult] = useState({\r\n        children: [],\r\n        overFlow: false,\r\n    });\r\n\r\n    const [showChildren, setShowChildren] = useState([]);\r\n\r\n    const childrenMap = useRef(new Map());\r\n\r\n    const toManyNotice = toManyChildrenNotice || <Select.Option\r\n        key=\"toManyChildrenNotice\"\r\n        value=\"toManyChildrenNotice\"\r\n        disabled={true}\r\n    >内容过多，请搜索来获取更多内容</Select.Option>;\r\n\r\n    const searchNow = (value) => {\r\n        // const start = new Date().getTime();\r\n        // let count = 0;\r\n        const childs = React.Children.toArray(children);\r\n        const optionFilterProp = props.optionFilterProp || \"value\";\r\n        let searchResults = [];\r\n        const maxChildLength = maxChildrenLength || 100;\r\n        let overFlow = false;\r\n        if (value == null || value === \"\") {\r\n            //没有搜索的时候\r\n            // console.log(\"没有搜索的时候\", children);\r\n            searchResults = childs.slice(0, maxChildLength);\r\n            if (searchResults.length >= maxChildLength) {\r\n                overFlow = true;\r\n            }\r\n        } else {\r\n            //遍历搜索\r\n            for (let i = 0; i < childs.length; i++) {\r\n                const child = childs[i];\r\n                const filterProp = \"children\" === optionFilterProp ? JSON.stringify(child.props) : JSON.stringify(child.props[optionFilterProp]);\r\n                if (filterProp != null && filterProp.indexOf(value) >= 0) {\r\n                    searchResults.push(child);\r\n                }\r\n                if (searchResults.length >= maxChildLength) {\r\n                    overFlow = true;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        setFilterResult({children: searchResults, overFlow});\r\n        // const end = new Date().getTime();\r\n        // console.log(\"耗时：\" + (end - start) + \"毫秒，循环\" + count + \"次\");\r\n    };\r\n\r\n    const onSearch = useCallback(debounce(async (value) => {\r\n        searchNow(value);\r\n    }, debounceTime || 300, false), [props.optionFilterProp, children]);\r\n\r\n    useEffect(() => {\r\n        const childs = filterResult.children || [];\r\n        const result = [...childs];\r\n        if (props.value == null) {\r\n            setShowChildren(result);\r\n            return\r\n        }\r\n\r\n        const searchResultValues = childs.filter(c => c != null && c.props != null).map(s => s.props.value);\r\n        if (typeof props.value === \"string\") {\r\n            if (searchResultValues.indexOf(props.value) === -1) {\r\n                result.push(childrenMap.current.get(props.value))\r\n            }\r\n        } else {\r\n            props.value.forEach(v => {\r\n                if (searchResultValues.indexOf(v) === -1) {\r\n                    result.push(childrenMap.current.get(v))\r\n                }\r\n            });\r\n        }\r\n        setShowChildren(result);\r\n    }, [props.value, filterResult]);\r\n\r\n    useEffect(() => {\r\n        const map = new Map();\r\n        React.Children.forEach(children, (c, i) => {\r\n            if (c != null && c.props != null) {\r\n                map.set(c.props.value, c);\r\n            }\r\n        });\r\n        childrenMap.current = map;\r\n        searchNow(null);\r\n    }, [children]);\r\n\r\n\r\n    return (<Select {...rest}\r\n                    filterOption={false}\r\n                    onFocus={() => searchNow(null)}\r\n                    onSearch={onSearch}>\r\n        {showChildren.map((child) => (child))}\r\n        {filterResult.overFlow ? toManyNotice : null}\r\n    </Select>)\r\n}\r\n","/**\r\n * 防重复提交，注意：如果是在function组件中使用，一定要用useCallback包裹起来，否则每次重新渲染，这个方法也会重新初始化\r\n * @param method 具体执行的方法\r\n * @param wait 重复提交间隔\r\n * @param immediate 是否立即执行\r\n * @returns {function(...[*]=): Promise<any>}\r\n */\r\nexport function debounce(method, wait, immediate) {\r\n    let timeout;\r\n    let debounced = function (...args) {\r\n        let context = this;\r\n        if (timeout) {\r\n            clearTimeout(timeout)\r\n        }\r\n        if (immediate) {\r\n            let callNow = !timeout;\r\n            timeout = setTimeout(() => {\r\n                timeout = null\r\n            }, wait);\r\n            if (callNow) {\r\n                method.apply(context, args);\r\n            }\r\n        } else {\r\n            timeout = setTimeout(() => {\r\n                method.apply(context, args);\r\n            }, wait)\r\n        }\r\n    };\r\n    debounced.cancel = function () {\r\n        clearTimeout(timeout);\r\n        timeout = null\r\n    };\r\n    return debounced\r\n}\r\n","import \"./index.css\";\r\nimport React, {useCallback, useEffect, useRef, useState} from 'react';\r\nimport Panel from \"../../components/Panel\";\r\nimport {Button, Input, Modal, message, notification, Select, Checkbox} from \"antd\";\r\nimport {Controlled as CodeMirror} from \"react-codemirror2\";\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/mode/javascript/javascript';\r\nimport 'codemirror/lib/codemirror.js';\r\nimport 'codemirror/addon/display/fullscreen.js';\r\nimport 'codemirror/addon/hint/show-hint.css';\r\nimport 'codemirror/addon/fold/foldgutter.css';\r\nimport 'codemirror/addon/fold/foldcode.js';\r\nimport 'codemirror/addon/fold/foldgutter.js';\r\nimport 'codemirror/addon/fold/brace-fold.js';\r\nimport 'codemirror/addon/fold/comment-fold.js';\r\nimport 'codemirror/addon/edit/matchbrackets';\r\nimport \"codemirror/addon/edit/closebrackets\";\r\n// import 'codemirror/addon/hint/show-hint';\r\nimport '../../utils/show-hint';\r\n// import 'codemirror/addon/hint/javascript-hint';\r\nimport '../../utils/js-hint';\r\nimport {toSearchParams} from \"../../utils\";\r\nimport {SuperSelect} from \"../../components/SuperSelect\";\r\n\r\nfunction RuleEdit(props) {\r\n\r\n    const {location} = props;\r\n\r\n    const editorRef = useRef();\r\n    const sdEditorRef = useRef();\r\n    const dEditorRef = useRef();\r\n    const sEditorRef = useRef();\r\n    const fEditorRef = useRef();\r\n    const [rule, setRule] = useState({\r\n        title: \"\",\r\n        author: \"\",\r\n        version: 0,\r\n        group: \"\",\r\n        titleColor: \"\",\r\n        url: \"\",\r\n        col_type: \"\",\r\n        class_name: \"\",\r\n        class_url: \"\",\r\n        area_name: \"\",\r\n        area_url: \"\",\r\n        year_name: \"\",\r\n        year_url: \"\",\r\n        sort_name: \"\",\r\n        sort_url: \"\",\r\n        find_rule: \"\",\r\n        search_url: \"\",\r\n        searchFind: \"\",\r\n        detail_col_type: \"\",\r\n        detail_find_rule: \"\",\r\n        sdetail_col_type: \"\",\r\n        sdetail_find_rule: \"\",\r\n        ua: \"\",\r\n        preRule: \"\",\r\n    });\r\n\r\n    const [ruleImportModalVisible, setRuleImportModalVisible] = useState(false);\r\n    const [ruleImport, setRuleImport] = useState(\"\");\r\n    const [ruleShareModalVisible, setRuleShareModalVisible] = useState(false);\r\n    const [ruleShare, setRuleShare] = useState(\"\");\r\n    const [autoComplete, setAutoComplete] = useState(false);\r\n    const [selectRule, setSelectRule] = useState();\r\n    const [allRules, setAllRules] = useState([]);\r\n    const autoCompleteRef = useRef(false);\r\n\r\n    function onChange(key, value) {\r\n        const ruleNew = {...rule};\r\n        ruleNew[key] = value;\r\n        setRule(ruleNew);\r\n    }\r\n\r\n    function HttpGet(url) {\r\n        return fetch(url)\r\n            .then(res => res.json()).catch(err => console.error('Error:', err));\r\n    }\r\n\r\n    function Get(url) {\r\n        return fetch(url)\r\n            .then(res => res.text()).catch(err => console.error('Error:', err));\r\n    }\r\n\r\n    function HttpPost(url, data) {\r\n        return fetch(url, {\r\n            body: JSON.stringify(data),\r\n            method: 'POST',\r\n            mode: \"cors\",\r\n            headers: new Headers({\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            })\r\n        }).then(res => res.json()).catch(err => console.error('Error:', err));\r\n    }\r\n\r\n    // 将表单转化为对象\r\n    function rule2json() {\r\n        const ruleJSON = JSON.parse(JSON.stringify(rule));\r\n        ruleJSON['version'] = parseInt(rule['version']);\r\n        return ruleJSON;\r\n    }\r\n\r\n    function clear() {\r\n        setRule({\r\n            title: \"\",\r\n            author: \"\",\r\n            version: 0,\r\n            group: \"\",\r\n            titleColor: \"\",\r\n            url: \"\",\r\n            col_type: \"\",\r\n            class_name: \"\",\r\n            class_url: \"\",\r\n            area_name: \"\",\r\n            area_url: \"\",\r\n            year_name: \"\",\r\n            year_url: \"\",\r\n            sort_name: \"\",\r\n            sort_url: \"\",\r\n            find_rule: \"\",\r\n            search_url: \"\",\r\n            searchFind: \"\",\r\n            detail_col_type: \"\",\r\n            detail_find_rule: \"\",\r\n            sdetail_col_type: \"\",\r\n            sdetail_find_rule: \"\",\r\n            ua: \"\",\r\n            preRule: \"\",\r\n        });\r\n    }\r\n\r\n    function importRule() {\r\n        const rus = ruleImport.split(\"￥\");\r\n        if (rus.length < 3) {\r\n            message.error(\"口令有误\");\r\n            return;\r\n        }\r\n        if (rus[1] !== \"home_rule_v2\" && rus[1] !== \"home_rule\") {\r\n            message.error(\"口令有误，只能是首页规则口令\");\r\n            return;\r\n        }\r\n        rus[0] = \"\";\r\n        rus[1] = \"\";\r\n        const j = rus.join(\"￥\").substring(2);\r\n        const edit = JSON.parse(j);\r\n        setRule(edit);\r\n        setRuleImport(\"\");\r\n        setRuleImportModalVisible(false);\r\n    }\r\n\r\n    function shareRule() {\r\n        const r = \"海阔视界规则分享，当前分享的是：首页频道￥home_rule_v2￥\" + JSON.stringify(rule);\r\n        setRuleShare(r);\r\n        setRuleShareModalVisible(true);\r\n    }\r\n\r\n    function saveRule() {\r\n        (async () => {\r\n            await HttpPost(`/saveRule`, rule2json()).then(json => {\r\n                console.log('推送:', rule2json());\r\n                if (json.isSuccess) {\r\n                    notification.success({message: \"保存规则成功\", description: \"保存规则成功\"});\r\n                } else {\r\n                    notification.error({message: \"保存规则失败\", description: `保存规则失败!\\nErrorMsg: ${json.errorMsg}`});\r\n                }\r\n            }).catch(err => {\r\n                notification.error({message: \"保存规则失败\", description: `保存规则失败,无法连接到「APP」!\\n${err}`});\r\n            });\r\n        })();\r\n    }\r\n\r\n    const refresh = useCallback(() => {\r\n        if (editorRef.current != null) {\r\n            editorRef.current.refresh();\r\n        }\r\n        if (sdEditorRef.current != null) {\r\n            sdEditorRef.current.refresh();\r\n        }\r\n        if (dEditorRef.current != null) {\r\n            dEditorRef.current.refresh();\r\n        }\r\n        if (sEditorRef.current != null) {\r\n            sEditorRef.current.refresh();\r\n        }\r\n        if (fEditorRef.current != null) {\r\n            fEditorRef.current.refresh();\r\n        }\r\n    }, []);\r\n\r\n    function onCursorActivity(editor) {\r\n        if (autoCompleteRef.current) {\r\n            editor.showHint();\r\n        }\r\n    }\r\n\r\n    function fetchAndBindRule(ruleTitle) {\r\n        (async () => {\r\n            await Get(`/getRuleContent?title=${ruleTitle}`).then(json => {\r\n                if (json != null && json.length > 0) {\r\n                    const edit = JSON.parse(json);\r\n                    setRule(edit);\r\n                } else {\r\n                    notification.error({message: \"获取规则失败\", description: `获取规则失败,内容为空`});\r\n                }\r\n            }).catch(err => {\r\n                notification.error({message: \"获取规则失败\", description: `获取规则失败,无法连接到「APP」!\\n${err}`});\r\n            });\r\n        })();\r\n    }\r\n\r\n    useEffect(() => {\r\n        autoCompleteRef.current = autoComplete;\r\n    }, [autoComplete]);\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n    }, [rule]);\r\n\r\n    useEffect(() => {\r\n        const auto = localStorage.getItem(\"autoComplete\");\r\n        if (auto != null && auto === \"true\") {\r\n            setAutoComplete(true);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (ruleImportModalVisible) {\r\n            setRuleImport(\"\");\r\n        }\r\n    }, [ruleImportModalVisible]);\r\n\r\n    useEffect(() => {\r\n        if (selectRule != null && selectRule.length > 0) {\r\n            fetchAndBindRule(selectRule);\r\n        }\r\n    }, [selectRule]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            await HttpGet(`/getAllRuleTitles`).then(json => {\r\n                if (json != null && json.length > 0) {\r\n                    setAllRules(json);\r\n                }\r\n            }).catch(err => {\r\n                notification.error({message: \"获取规则失败\", description: `获取规则失败,无法连接到「APP」!\\n${err}`});\r\n            });\r\n        })();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const params = toSearchParams(location);\r\n        try {\r\n            const ruleTitle = params.get(\"rule\");\r\n            if (ruleTitle != null && ruleTitle.length > 0) {\r\n                setSelectRule(ruleTitle);\r\n                fetchAndBindRule(ruleTitle);\r\n            }\r\n        } catch (e) {\r\n        }\r\n    }, [location]);\r\n\r\n    const codeMirrorOpt = {\r\n        lineNumbers: true,\r\n        lineWrapping: true,\r\n        smartIndent: true,\r\n        mode: {name: \"javascript\"},\r\n        matchBrackets: true,\r\n        autoCloseBrackets: true,\r\n        showHint: true,\r\n        indentWithTabs: true,\r\n        extraKeys: {Tab: 'autocomplete'},\r\n        hintOptions: {\r\n            completeSingle: false,\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div style={{\r\n                width: 120,\r\n                overflow: 'auto',\r\n                height: '100vh',\r\n                position: 'fixed',\r\n                right: 0,\r\n                marginRight: 20\r\n            }}>\r\n                <div style={{marginBottom: 10}}><Button type={\"primary\"} onClick={saveRule}>保存规则</Button></div>\r\n                <div style={{marginBottom: 10}}><Button onClick={shareRule}>生成口令</Button></div>\r\n                <div style={{marginBottom: 10}}><Button onClick={() => setRuleImportModalVisible(true)}>口令导入</Button>\r\n                </div>\r\n                <div style={{marginBottom: 10}}><Button onClick={clear}>清空表单</Button></div>\r\n            </div>\r\n            <div style={{marginRight: 120}}>\r\n\r\n                <div className={\"mail-edit-head-bg\"}>\r\n                    <h3 className={\"head-title\"}>选择规则：</h3>\r\n                    <SuperSelect\r\n                        optionFilterProp=\"children\"\r\n                        showSearch={true}\r\n                        dropdownMatchSelectWidth={false}\r\n                        className={\"super-select\"}\r\n                        value={selectRule}\r\n                        onSelect={setSelectRule}>\r\n                        {allRules.map(rule => <Select.Option value={rule}>{rule}</Select.Option>)}\r\n                    </SuperSelect>\r\n                </div>\r\n\r\n                <Panel title='基础信息' titleIcon='api'>\r\n                    <div style={{padding: 15}}>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>规则名称：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"规则名称\"}\r\n                                value={rule.title}\r\n                                onChange={(e) => onChange(\"title\", e.target.value)}/>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>规则作者：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"规则作者（author）\"}\r\n                                value={rule.author}\r\n                                onChange={(e) => onChange(\"author\", e.target.value)}/>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>规则版本：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"规则版本（version）\"}\r\n                                value={rule.version}\r\n                                onChange={(e) => onChange(\"version\", e.target.value)}/>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>频道分组：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"频道分组（名称前加①、②等序号可排序）\"}\r\n                                value={rule.group}\r\n                                onChange={(e) => onChange(\"group\", e.target.value)}/>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>字体颜色：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"频道名称字体颜色（可不填）\"}\r\n                                value={rule.titleColor}\r\n                                onChange={(e) => onChange(\"titleColor\", e.target.value)}/>\r\n                        </div>\r\n                    </div>\r\n                </Panel>\r\n\r\n                <Panel title='基础规则' titleIcon='api'>\r\n                    <div style={{padding: 15}}>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>频道链接：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 3}}\r\n                                placeholder={\"频道链接（可不填，可只填搜索相关内容）\"}\r\n                                value={rule.url}\r\n                                onChange={(e) => onChange(\"url\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>显示样式：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"显示样式（col_type）\"}\r\n                                value={rule.col_type}\r\n                                onChange={(e) => onChange(\"col_type\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>分类名称：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"分类名称（class_name）\"}\r\n                                value={rule.class_name}\r\n                                onChange={(e) => onChange(\"class_name\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>分类替换：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"分类替换词（class_url）\"}\r\n                                value={rule.class_url}\r\n                                onChange={(e) => onChange(\"class_url\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>地区名称：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"地区名称（area_name）\"}\r\n                                value={rule.area_name}\r\n                                onChange={(e) => onChange(\"area_name\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>地区替换：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"地区替换词（area_url）\"}\r\n                                value={rule.area_url}\r\n                                onChange={(e) => onChange(\"area_url\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>年代名称：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"年代名称（year_name）\"}\r\n                                value={rule.year_name}\r\n                                onChange={(e) => onChange(\"year_name\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>年代替换：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"年代替换词（year_url）\"}\r\n                                value={rule.year_url}\r\n                                onChange={(e) => onChange(\"year_url\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>排序名称：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"排序名称（sort_name）\"}\r\n                                value={rule.sort_name}\r\n                                onChange={(e) => onChange(\"sort_name\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>排序替换：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"排序替换（sort_url）\"}\r\n                                value={rule.sort_url}\r\n                                onChange={(e) => onChange(\"sort_url\", e.target.value)}/>\r\n                        </div>\r\n\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>搜索链接：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 5}}\r\n                                placeholder={\"搜索链接（search_url，用**作为关键词占位符）\"}\r\n                                value={rule.search_url}\r\n                                onChange={(e) => onChange(\"search_url\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>二级样式：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"二级样式（detail_col_type）\"}\r\n                                value={rule.detail_col_type}\r\n                                onChange={(e) => onChange(\"detail_col_type\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>搜二样式：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"搜索二级列表显示样式（sdetail_col_type）\"}\r\n                                value={rule.sdetail_col_type}\r\n                                onChange={(e) => onChange(\"sdetail_col_type\", e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>全局UA：</h3>\r\n                            <Input.TextArea\r\n                                className={\"mail-input\"}\r\n                                autoSize={{minRows: 1, maxRows: 1}}\r\n                                placeholder={\"规则全局UA（以url里面的ua优先，为空默认mobile，可选auto/mobile/pc）\"}\r\n                                value={rule.ua}\r\n                                onChange={(e) => onChange(\"ua\", e.target.value)}/>\r\n                        </div>\r\n\r\n                    </div>\r\n                </Panel>\r\n\r\n                <Panel title='解析规则' titleIcon='api' subTitle={<span>Tips：按Tab键可以自动补全代码\r\n                    <Checkbox checked={autoComplete} onChange={e => {\r\n                        localStorage.setItem(\"autoComplete\", e.target.checked + \"\");\r\n                        setAutoComplete(e.target.checked);\r\n                    }}\r\n                              style={{marginLeft: 10}}>动态补全</Checkbox></span>}>\r\n                    <div style={{padding: 15}}>\r\n\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>解析规则：</h3>\r\n                            <div className={\"code-mirror-bg\"}>\r\n                                <CodeMirror\r\n                                    onCursorActivity={onCursorActivity}\r\n                                    className={\"code-mirror\"}\r\n                                    value={rule.find_rule}\r\n                                    options={codeMirrorOpt}\r\n                                    onBeforeChange={(editor, data, value) => onChange(\"find_rule\", value)}\r\n                                    editorDidMount={editor => {\r\n                                        fEditorRef.current = editor;\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>搜索解析：</h3>\r\n                            <div className={\"code-mirror-bg\"}>\r\n                                <CodeMirror\r\n                                    onCursorActivity={onCursorActivity}\r\n                                    className={\"code-mirror\"}\r\n                                    value={rule.searchFind}\r\n                                    options={codeMirrorOpt}\r\n                                    onBeforeChange={(editor, data, value) => onChange(\"searchFind\", value)}\r\n                                    editorDidMount={editor => {\r\n                                        sEditorRef.current = editor;\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>二级解析：</h3>\r\n                            <div className={\"code-mirror-bg\"}>\r\n                                <CodeMirror\r\n                                    onCursorActivity={onCursorActivity}\r\n                                    className={\"code-mirror\"}\r\n                                    value={rule.detail_find_rule}\r\n                                    options={codeMirrorOpt}\r\n                                    onBeforeChange={(editor, data, value) => onChange(\"detail_find_rule\", value)}\r\n                                    editorDidMount={editor => {\r\n                                        dEditorRef.current = editor;\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>搜二解析：</h3>\r\n                            <div className={\"code-mirror-bg\"}>\r\n                                <CodeMirror\r\n                                    onCursorActivity={onCursorActivity}\r\n                                    className={\"code-mirror\"}\r\n                                    value={rule.sdetail_find_rule}\r\n                                    options={codeMirrorOpt}\r\n                                    onBeforeChange={(editor, data, value) => onChange(\"sdetail_find_rule\", value)}\r\n                                    editorDidMount={editor => {\r\n                                        sdEditorRef.current = editor;\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"mail-edit-head-bg\"}>\r\n                            <h3 className={\"head-title\"}>JS预处理：</h3>\r\n                            <div className={\"code-mirror-bg\"}>\r\n                                <CodeMirror\r\n                                    onCursorActivity={onCursorActivity}\r\n                                    className={\"code-mirror\"}\r\n                                    value={rule.preRule}\r\n                                    options={codeMirrorOpt}\r\n                                    onBeforeChange={(editor, data, value) => onChange(\"preRule\", value)}\r\n                                    editorDidMount={editor => {\r\n                                        editorRef.current = editor;\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Panel>\r\n            </div>\r\n            <Modal\r\n                okText={\"导入\"}\r\n                cancelText={\"取消\"}\r\n                title={\"口令导入\"}\r\n                visible={ruleImportModalVisible}\r\n                onCancel={() => setRuleImportModalVisible(false)}\r\n                onOk={importRule}\r\n            >\r\n                <Input.TextArea\r\n                    rows={20}\r\n                    placeholder={\"请输入口令，只能海阔视界开头\"}\r\n                    value={ruleImport}\r\n                    onChange={(e) => setRuleImport(e.target.value)}/>\r\n            </Modal>\r\n            <Modal\r\n                okText={\"确定\"}\r\n                cancelText={\"取消\"}\r\n                title={\"请自行复制下面的口令\"}\r\n                visible={ruleShareModalVisible}\r\n                onCancel={() => setRuleShareModalVisible(false)}\r\n                onOk={() => setRuleShareModalVisible(false)}\r\n            >\r\n                <Input.TextArea\r\n                    rows={20}\r\n                    value={ruleShare}\r\n                    onChange={(e) => setRuleShare(e.target.value)}/>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RuleEdit;\r\n","export function toSearchParams(location) {\r\n    const {search} = location;\r\n    const paramsString = search.substring(1);\r\n    return new URLSearchParams(paramsString);\r\n}\r\n\r\n\r\nexport function searchParamsToSearch(param) {\r\n    let str = \"\";\r\n    param.forEach((value, key) => {\r\n        const t = str === \"\" ? \"?\" : \"&\";\r\n        str = str + t + key + \"=\" + value;\r\n    });\r\n    return str;\r\n}\r\n","import {createHashHistory} from \"history\";\r\n\r\nconst reactHistory = createHashHistory({});\r\n\r\nexport default reactHistory;\r\n","import React from \"react\";\r\n\r\nfunction JsEdit(props) {\r\n\r\n    return <div><p>敬请期待。</p>\r\n        <p>欢迎大家来共同完善此项目：\r\n            <a href={\"https://gitee.com/qiusunshine233/hiker-rule-edit\"}\r\n               target={\"_blank\"}>https://gitee.com/qiusunshine233/hiker-rule-edit</a>\r\n        </p>\r\n    </div>\r\n}\r\n\r\nexport default JsEdit;\r\n","import React, {useEffect, useState} from 'react';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport {Layout, Menu, Icon} from 'antd';\nimport RuleEdit from \"./views/RuleEdit\";\nimport reactHistory from \"./utils/reactHistory\";\nimport {Route, Router, Switch} from \"react-router\";\nimport JsEdit from \"./views/JsEdit\";\n\nconst {Content, Footer, Sider} = Layout;\n\n\nfunction SideMenu(props) {\n\n    const [currentKey, setCurrentKey] = useState(\"rule\");\n\n    function goPage(url, key) {\n        setCurrentKey(key);\n        reactHistory.push({\n            pathname: url\n        });\n    }\n\n    useEffect(() => {\n        const href = window.location.href;\n        const urls = href.split(\"/#/\");\n        if (urls.length >= 2) {\n            const pathname = urls[1].split(\"?\")[0];\n            console.info(\"location pathname\", pathname);\n            if (pathname === \"js\") {\n                setCurrentKey(pathname);\n            }\n        }\n    }, []);\n\n    return <Sider\n        theme=\"light\"\n        style={{\n            overflow: 'auto',\n            height: '100vh',\n            position: 'fixed',\n            left: 0,\n        }}\n    >\n        <div className=\"layout-logo\">\n            <div>\n                <div className={\"logo-title-zh\"}>海阔视界</div>\n                <div className={\"logo-title-en\"}>{\"H I K E R\"}</div>\n            </div>\n        </div>\n        <Menu theme=\"light\" mode=\"inline\" selectedKeys={[currentKey]}>\n            <Menu.Item key=\"rule\" onClick={() => goPage(\"/\", \"rule\")}>\n                <Icon type=\"control\"/>\n                <span className=\"nav-text\">编辑规则</span>\n            </Menu.Item>\n            <Menu.Item key=\"js\" onClick={() => goPage(\"/js\", \"js\")}>\n                <Icon type=\"file-text\"/>\n                <span className=\"nav-text\">编辑插件</span>\n            </Menu.Item>\n        </Menu>\n    </Sider>;\n}\n\nfunction App() {\n\n    return (\n        <div className=\"App\">\n            <Router history={reactHistory}>\n                <Layout>\n                    <SideMenu/>\n                    <Layout style={{marginLeft: 200}}>\n                        <Content style={{margin: '24px 16px 0', overflow: 'initial'}}>\n                            <div style={{padding: 24, background: '#fff', minHeight: \"calc(100vh - 118px)\"}}>\n                                <Switch>\n                                    <Route path=\"/js\" component={JsEdit}/>\n                                    <Route path=\"/\" component={RuleEdit}/>\n                                </Switch>\n                            </div>\n                        </Content>\n                        <Footer style={{textAlign: 'center'}}>haikuoshijie.cn © 2020</Footer>\n                    </Layout>\n                </Layout>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}